<div class="modal-header">
  <h4 class="modal-title">Order Details</h4>
  <button
    type="button"
    class="btn-close"
    aria-label="Close"
    (click)="activeModal.dismiss()"
  ></button>
</div>
<div class="modal-body">
  <div class="mb-4">
    <h5>Customer Information</h5>
    <div class="row">
      <div class="col-md-6">
        <p><strong>Name:</strong> {{ order.fullName }}</p>
        <p><strong>Address:</strong> {{ order.address }}</p>
        <p><strong>Phone:</strong> {{ order.phone }}</p>
      </div>
      <div class="col-md-6">
        <p><strong>Email:</strong> {{ order.email }}</p>
        <p><strong>Payment Method:</strong> {{ order.paymentMethod }}</p>
        <p><strong>Order Date:</strong> {{ order.orderDate | date: 'dd/MM/yyyy' }}</p>
      </div>
    </div>
    <p>
      <strong>Status:</strong>
      <span class="badge" [ngClass]="getStatusBadgeClass(order.orderStatus)">
        {{
          order.orderStatus === 0 ? 'Pending' : order.orderStatus === 1 ? 'Approved' : 'Rejected'
        }}
      </span>
    </p>
  </div>

  <div class="mb-4">
    <h5>Order Items</h5>
    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th>Book Name</th>
            <th>Quantity</th>
            <th>Unit Price</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of order.orderItems">
            <td>{{ item.bookName }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.unitPrice | currency: 'VND' }}</td>
            <td>{{ item.quantity * item.unitPrice | currency: 'VND' }}</td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="3" class="text-end"><strong>Total Amount:</strong></td>
            <td>
              <strong>{{ order.totalPrice | currency: 'VND' }}</strong>
            </td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-secondary" (click)="activeModal.dismiss()">Close</button>
  <button
    *ngIf="order.orderStatus === 0"
    type="button"
    class="btn btn-success"
    (click)="approveOrder()"
  >
    Approve Order
  </button>
</div>
